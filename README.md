# QA Python

## Описание проекта

Проект содержит класс `BooksCollector` для управления коллекцией книг с возможностью добавления книг, установки жанров, работы с избранными книгами и фильтрации по возрастным ограничениям.

## Реализованные тесты

В файле `tests.py` реализован оптимизированный набор тестов для покрытия всех методов класса `BooksCollector`. Всего создано **19 тестов** (9 обычных + 2 параметризованных кейсов) с ровно 1 тестом на каждый метод и 2 параметризованными тестами для комплексного покрытия:

### Фикстура pytest:
```python
@pytest.fixture
def collector():
    #Фикстура, которая создает новый экземпляр BooksCollector для каждого теста
    return BooksCollector()
```

### Обычные тесты (1 на каждый метод):

1. **test_add_new_book_add_two_books** - добавление двух книг (базовый тест)
2. **test_set_book_genre** - установка валидного жанра для книги (проверка через прямой доступ к словарю)
3. **test_get_book_genre** - получение жанра для книги без жанра (граничный случай)
4. **test_get_books_with_specific_genre** - получение списка книг с определенным жанром
5. **test_get_books_genre** - получение словаря всех книг и их жанров
6. **test_get_books_for_children** - получение списка книг, подходящих детям
7. **test_add_book_in_favorites** - добавление книги в избранное
8. **test_delete_book_from_favorites** - удаление книги из избранного
9. **test_get_list_of_favorites_books** - получение списка избранных книг

### Параметризованные тесты (2 теста):

10. **test_add_new_book_parametrized** - параметризованный тест добавления книг (5 случаев)
11. **test_set_and_get_book_genre_parametrized** - параметризованный тест установки и получения жанров (5 случаев)

## Параметризованные тесты

В проекте реализованы 2 параметризованных теста с подробными комментариями:

### 1. test_add_new_book_parametrized
Проверяет добавление книг с различными названиями:
- **Валидные названия**: `'Война и мир'`, `'Гарри Поттер'`, `'1984'` - должны добавиться
- **Невалидные названия**: пустая строка, слишком длинное название - НЕ должны добавиться

**Тестовые кейсы (5 случаев):**
- `'Война и мир'` - Валидное название - должно добавиться
- `''` - Пустое название - не должно добавиться  
- `'Очень длинное название...'` - Слишком длинное - не должно добавиться
- `'Гарри Поттер'` - Валидное название - должно добавиться
- `'1984'` - Валидное название - должно добавиться

### 2. test_set_and_get_book_genre_parametrized
Проверяет установку и получение жанров книг:
- **Валидные жанры**: `'Фантастика'`, `'Ужасы'`, `'Комедии'` - должны установиться
- **Невалидные жанры**: `'Несуществующий жанр'` - не должны установиться
- **Несуществующие книги**: должны возвращать `None`

**Тестовые кейсы (5 случаев):**
- `'Книга 1', 'Фантастика'` - Валидный жанр - должен установиться
- `'Книга 2', 'Ужасы'` - Валидный жанр - должен установиться
- `'Книга 3', 'Комедии'` - Валидный жанр - должен установиться
- `'Книга 4', 'Несуществующий жанр'` - Невалидный жанр - не должен установиться
- `'Несуществующая книга', 'Фантастика'` - Несуществующая книга - должен вернуться None

## Подробное описание тестов

### Базовые функциональные тесты
- **test_add_new_book_add_two_books** - проверяет базовую функциональность добавления книг
- **test_get_books_genre** - проверяет получение полного словаря книг и их жанров
- **test_get_books_with_specific_genre** - проверяет фильтрацию книг по жанру

### Тесты основных операций
- **test_set_book_genre** - проверяет установку жанра для книги (прямой доступ к словарю)
- **test_get_book_genre** - проверяет получение жанра для книги без жанра (граничный случай)
- **test_add_book_in_favorites** - проверяет добавление в избранное
- **test_delete_book_from_favorites** - проверяет удаление из избранного
- **test_get_list_of_favorites_books** - проверяет получение списка избранного

### Тесты бизнес-логики
- **test_get_books_for_children** - проверяет фильтрацию по возрастному рейтингу

## Стратегия тестирования

- **Оптимизированное покрытие**: ровно 1 тест на каждый метод для эффективности
- **Параметризованные тесты**: 2 параметризованных теста для комплексного покрытия различных сценариев
- **Полное покрытие**: все 9 методов класса протестированы
- **Покрытие граничных случаев**: параметризованные тесты покрывают валидные и невалидные входные данные
- **Независимость тестов**: каждый тест создает отдельный экземпляр класса `BooksCollector` через фикстуру
- **Проверка бизнес-логики**: тестируется корректность работы возрастных ограничений и фильтрации
- **Информативные сообщения об ошибках**: все assert'ы содержат понятные сообщения
- **Подробная документация**: каждый параметризованный тест имеет docstring с описанием